<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Package Overview · NoisySignalIntegration.jl</title><meta name="title" content="Package Overview · NoisySignalIntegration.jl"/><meta property="og:title" content="Package Overview · NoisySignalIntegration.jl"/><meta property="twitter:title" content="Package Overview · NoisySignalIntegration.jl"/><meta name="description" content="Documentation for NoisySignalIntegration.jl."/><meta property="og:description" content="Documentation for NoisySignalIntegration.jl."/><meta property="twitter:description" content="Documentation for NoisySignalIntegration.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="NoisySignalIntegration.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">NoisySignalIntegration.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../installation/">Installation</a></li><li class="is-active"><a class="tocitem" href>Package Overview</a><ul class="internal"><li><a class="tocitem" href="#Workflow"><span>Workflow</span></a></li><li><a class="tocitem" href="#Data-requirements"><span>Data requirements</span></a></li></ul></li><li><a class="tocitem" href="../guide/">Usage Guide</a></li><li><a class="tocitem" href="../examples/">Examples</a></li><li><a class="tocitem" href="../baseline/">Baseline Handling</a></li><li><a class="tocitem" href="../internals/">Internals</a></li><li><a class="tocitem" href="../API/">API reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Package Overview</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Package Overview</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/nluetts/NoisySignalIntegration.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/nluetts/NoisySignalIntegration.jl/blob/master/docs/src/overview.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Package-Overview"><a class="docs-heading-anchor" href="#Package-Overview">Package Overview</a><a id="Package-Overview-1"></a><a class="docs-heading-anchor-permalink" href="#Package-Overview" title="Permalink"></a></h1><h2 id="Workflow"><a class="docs-heading-anchor" href="#Workflow">Workflow</a><a id="Workflow-1"></a><a class="docs-heading-anchor-permalink" href="#Workflow" title="Permalink"></a></h2><p><code>NoisySignalIntegration.jl</code> estimates the uncertainty in numeric integrals based on the noise level and uncertainty in placing integration bounds. This is achieved by performing the integration many times while varying the noise and integration bounds.</p><p>The package uses a custom datatype <a href="../API/#NoisySignalIntegration.Curve"><code>Curve</code></a> to represent the xy-data that shall be integrated. <code>Curve</code> wraps two vectors of identical element type and length. It was introduced mainly for convenience and simpler plotting.</p><p>From a <code>Curve</code> object, a <a href="../API/#NoisySignalIntegration.NoiseSample"><code>NoiseSample</code></a> can be derived. A <code>NoiseSample</code> is required to determine the noise amplitude and autocorrelation length (if the noise is strongly correlated, as it is often the case in FTIR spectra). With the noise parameters, a noise model can be constructed. This is either a <a href="../API/#NoisySignalIntegration.GaussianNoiseModel"><code>GaussianNoiseModel</code></a> (uncorrelated Gaussian noise) or an <a href="../API/#NoisySignalIntegration.MvGaussianNoiseModel"><code>MvGaussianNoiseModel</code></a> (correlated Gaussian noise, &quot;Mv&quot; = multivariate).</p><p>From the <code>Curve</code> object and noise model, an <a href="../API/#NoisySignalIntegration.UncertainCurve"><code>UncertainCurve</code></a> object can be constructed. It contains random samples of the original data with varying noise. The <code>UncertainCurve</code> object is the first input required for the actual integration function <a href="../API/#NoisySignalIntegration.mc_integrate"><code>mc_integrate</code></a>.</p><div class="admonition is-success"><header class="admonition-header">Crop your data to the relevant region</header><div class="admonition-body"><p>While your input dataset should contain a somewhat lengthy portion of noise for the noise analysis step, you should not include this portion of the data in the actual integration, as this will only decrease performance while not offering any benefits. You should always <a href="../API/#NoisySignalIntegration.crop"><code>crop</code></a> your data to only include the relevant signals you want to integrate (see also <a href="../guide/#crop">Usage Guide</a>).</p></div></div><p>The second and last input for the integration function is one or several integration bounds. They are represented by <a href="../API/#NoisySignalIntegration.UncertainBound"><code>UncertainBound</code></a> objects which are <a href="../guide/#bounds_guide">defined from one or two probability distributions</a> that encode the uncertainty in the integration bounds.</p><p>In the final step, the <a href="../API/#NoisySignalIntegration.mc_integrate"><code>mc_integrate</code></a> function takes the <code>UncertainCurve</code> and <code>UncertainBound</code>(s) and integrates each random sample using the trapezoidal rule. Each <code>UncertainBound</code> yields one uncertain area that is returned as a <a href="https://baggepinnen.github.io/MonteCarloMeasurements.jl/stable/api/#MonteCarloMeasurements.Particles">Particles</a> object from the <a href="https://github.com/baggepinnen/MonteCarloMeasurements.jl">MonteCarloMeasurements.jl</a> package. <a href="../examples/#example_propagation">Uncertainty propagation</a> with the resulting areas thus works as described in the documentation of <code>MonteCarloMeasurements.jl</code>, merely by performing calculations with <code>Particles</code> objects.</p><div class="admonition is-success"><header class="admonition-header">Swapping the core integration function</header><div class="admonition-body"><p>You can swap the core integration function that <code>mc_integrate</code> uses to something more accurate, if needed. To do so, pass your integration function as keyword argument <code>intfun</code>. Note, that your integration function needs to have the same call signature as <a href="../API/#NoisySignalIntegration.trapz"><code>trapz</code></a>.</p><p>See also: documentation of <a href="../API/#NoisySignalIntegration.mc_integrate"><code>mc_integrate</code></a>.</p></div></div><h2 id="Data-requirements"><a class="docs-heading-anchor" href="#Data-requirements">Data requirements</a><a id="Data-requirements-1"></a><a class="docs-heading-anchor-permalink" href="#Data-requirements" title="Permalink"></a></h2><p>Due to the internal workings of the package, the input data needs to fulfill some basic requirements:</p><div class="admonition is-warning"><header class="admonition-header">Data must be ordered</header><div class="admonition-body"><p>In general, the data that you analyze must be ordered from low to high x-values. If your data is not ordered, you should run the <code>Base.sort()</code> function on your input data (<code>Curve</code> object) once in the beginning of your analysis:</p></div></div><pre><code class="language-julia-repl hljs">julia&gt; using NoisySignalIntegration

julia&gt; c = Curve([2, 6, 1], [4, 12, 2]);

julia&gt; c = sort(c)
Curve{Int64}, 3 datapoints
(1, 2)
(2, 4)
(6, 12)</code></pre><div class="admonition is-warning"><header class="admonition-header">x-grid must be uniform when analyzing correlated noise</header><div class="admonition-body"><p>Correlated noise can only be analyzed, if the x-data is evenly spaced. If this is not the case for your input data, you can use <a href="http://juliamath.github.io/Interpolations.jl/latest/">Interpolations.jl</a> to interpolate your data on an even x-grid (see in particular <a href="http://juliamath.github.io/Interpolations.jl/latest/convenience-construction/">here</a>).</p></div></div><p>Example: Interpolating data on evenly spaced grid</p><pre><code class="language-julia hljs">using NoisySignalIntegration, Interpolations, Plots

c = NoisySignalIntegration.testdata_3() # test dataset with uneven grid spacing
diff(c.x) # shows the uneven spacing of x-values ↓↓↓</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">1000-element Vector{Float64}:
 0.10001
 0.10003000000000002
 0.10004999999999994
 0.10007000000000005
 0.10008999999999996
 0.10011000000000003
 0.10012999999999994
 0.10015000000000007
 0.10016999999999998
 0.10018999999999989
 ⋮
 0.11983000000002164
 0.11984999999998536
 0.11987000000000592
 0.11988999999999805
 0.11990999999999019
 0.11993000000001075
 0.11995000000000289
 0.11997000000000924
 0.11998999999998716</code></pre><pre><code class="language-julia hljs">δx = minimum(diff(c.x))
x_even = collect(minimum(c.x):δx:maximum(c.x))
interp = LinearInterpolation(c.x, c.y)
c_even = Curve(x_even, interp(x_even))

plot(c; label=&quot;original data&quot;)
plot!(c_even; label=&quot;interpolated data&quot;)</code></pre><img src="fd339d04.svg" alt="Example block output"/></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../installation/">« Installation</a><a class="docs-footer-nextpage" href="../guide/">Usage Guide »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Wednesday 10 January 2024 12:55">Wednesday 10 January 2024</span>. Using Julia version 1.10.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
